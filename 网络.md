## TCP/IP协议
### 物理层
有物理地址，用交换机处理
### 网络层
使用IP（IPV4）协议
#### IP地址
总共32位，通过十进制看的话分为4个数字，每个占8位
分为两层，分别用网络层+主机号
网络号通过子网掩码确定
![enter description here](./images/1714448328494.png)
#### IP地址分类
![enter description here](./images/1714448368643.png)
### TCP协议
面向连接、可靠的、字节流
四元组确定连接
![enter description here](./images/1714449587493.png)
#### 协议头
![enter description here](./images/1714448443887.png)
ACK（1）：确认应答字段有效
SYN（1）：序列号有效
RST（1）：TCP连接出现异常，强制断开
FIN（1）：表示今后不需要发送数据，希望连接断开
#### 三次握手
![enter description here](./images/1714449632566.png)
#### 为什么需要三次连接？
1. 确定双方序列号（初始化双方版本号）
2. 防止历史连接带来的干扰（两次连接无法确定对方是否收到，连接就建立了），造成资源浪费
#### 第一次握手丢失
客户端会超时重传，有次数（默认五次）
等待时间分别为1秒、2秒、4秒、......
![enter description here](./images/1714450561925.png)
#### 第二次握手丢失
客户端会触发第一次握手丢失
服务端进行重传，次数（默认5次）
![enter description here](./images/1714450593605.png)
#### 第三次握手丢失
服务端会进行第二次握手丢失
第三次握手是客户端发送的ACK报文
因为ACK 报文是不会有重传的，当 ACK 丢失了，就由对方重传对应的报文（二次握手重传）
![enter description here](./images/1714450759492.png)
